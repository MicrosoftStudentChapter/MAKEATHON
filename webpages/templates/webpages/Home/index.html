{% load static %}

<section id="home">
  <!-- Video Background -->
  <video autoplay muted loop id="home-bg-video" preload="auto">
    <source
      src="{% static 'webpages/home/images/home-bg-video.mp4' %}"
      type="video/mp4"
    />
  </video>
  <button class="mute-button" title="Toggle Mute" aria-label="Toggle Mute"><i class="bx bx-volume-mute"></i></button>

  <!-- Navbar -->
  <header>
    <button
      id="navbar-toggler"
      aria-label="Navbar Toggler"
      title="Navbar Toggle"
      onclick="toggleNavbar()"
    >
      <div class="one"></div>
      <div class="two"></div>
      <div class="three"></div>
    </button>

    <nav>
      <div id="nav-items">
        <ul style="list-style: none; padding-left: 0">
          <li>
            <a href="#about"
              ><i class="bx bx-info-circle"></i><span>About</span></a
            >
          </li>
          <li>
            <a href="#timeline"
              ><i class="bx bx-calendar-check"></i><span>Schedule</span></a
            >
          </li>
          <li>
            <a href="#prizes"><i class="bx bx-trophy"></i><span>Prizes</span></a>
          </li>
          <li>
            <a href="#speakers_and_judges"
              ><i class="bx bx-microphone"></i><span>Speakers</span></a
            >
          </li>
          <li>
            <a href="#sponsors"
              ><i class="bx bx-money"></i><span>Sponsors</span></a
            >
          </li>
          <li>
            <a href="#FAQ_Makeathon"
              ><i class="bx bx-message"></i><span>FAQs</span></a
            >
          </li>
          <li>
			  <a href="javascript:toggleRuleBook()" onclick="toggleRuleBook()"
              ><i class='bx bxs-file-pdf'></i><span>Rule Book</span></a
            >
          </li>
        </ul>
      </div>
    </nav>
  </header>

<style>
	#rule-book {
		z-index: 102;
	}

	#rule-book,
	#rule-book iframe{
		width: 100%;
		height: 100vh;
		position: fixed;
		transform: scale(0);
		transform-origin: left bottom;
		transition: transform 0.5s ease-in-out;
	}

	#rule-book.show,
	#rule-book iframe{
		transform: scale(1);
	}

	#rule-book button {
		position: absolute;
		top: 0;
		left: 0;
		font-size: 2rem;
		border: none;
		background-color: red;
		color: white;
	}
</style>

	<div id="rule-book">
		<iframe src="https://drive.google.com/file/d/1Om2lwi1xvv1WCKmQvcr0C3ufuppjS7ur/preview" width="640" height="480"></iframe>
		<button onclick="toggleRuleBook()"><i class='bx bx-x'></i></button>
	</div>

	<script type="text/javascript">
		function toggleRuleBook() {
			toggleBodyScrollBar();
			document.querySelector('#rule-book').classList.toggle('show');
		}

		function toggleBodyScrollBar () {
			let body = document.querySelector('body');
			body.style.overflowY = body.style.overflowY !== 'hidden' ? 'hidden' : 'scroll';
		}
	</script>
  <div class="center">
    <!-- LOGO -->
    <h1 title="Makeathon Logo">
      <img
        src="{% static 'webpages/home/images/makeathon_logo.png' %}"
        alt="Makeathon Logo"
        class="logo"
      />
    </h1>

    <!-- Timer -->
    <div class="horizontal-center">
      <div style="margin: auto; width: max-content; white-space: nowrap">
        <div id="timer"></div>
        <div style="text-align: right">
          <img
            src="{% static 'webpages/home/images/time_left.png' %}"
            class="time-left"
            alt="Time Left"
          />
        </div>
      </div>
    </div>

    <!-- Register Devfolio Button -->
    <div class="horizontal-center">
      <!-- <a href="https://makeathon3077.devfolio.co/"
            ><img
                    src="{% static 'webpages/home/images/devfolio.png' %}"
                    alt="Register With Devfolio"
                    class="devfolio-register"
            /></a> -->
      <br />
      <div
        class="apply-button"
        data-hackathon-slug="makeathon3077"
        data-button-theme="light"
        style="height: 44px; width: 312px"
      ></div>
    </div>
  </div>

  <!-- Js -->
  <script defer async src="https://apply.devfolio.co/v2/sdk.js"></script>
  <script src="{% static 'webpages/home/js/index.js' %}"></script>
</section>
